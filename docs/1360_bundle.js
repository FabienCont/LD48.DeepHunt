(self.webpackChunk=self.webpackChunk||[]).push([[1360],{1360:(t,e,i)=>{"use strict";i.r(e),i.d(e,{hitbox:()=>y});var n=i(504),o={collidePointPoint:function(t,e){return t.x===e.x&&t.y===e.y},collidePointRectangle:function(t,e){return!(t.x<e.x||t.x>e.x+e.width||t.y<e.y||t.y>e.y+e.height)},collideRectangleRectangle:function(t,e){return!(t.x+t.width<=e.x||t.x>=e.x+e.width||t.y+t.height<=e.y||t.y>=e.y+e.height)}};function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,r=void 0;try{for(var h,y=t[Symbol.iterator]();!(n=(h=y.next()).done)&&(i.push(h.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{n||null==y.return||y.return()}finally{if(o)throw r}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function y(t){var e=this;Object.entries(t).forEach((function(i){var h=r(i,2),y=h[0],a=h[1],c={},l=a.get("hitbox"),s=a.get("position"),f=l.collideable,u=Object.keys(f);u.length>0&&(Object.entries(t).forEach((function(t){var e=r(t,2),i=e[0],h=e[1];if(y!==i){var f=h.get("hitbox"),x=h.get("position");if(-1!==u.indexOf(f.type)){var d=new n.Ae(s.x+l.x-l.width/2,s.y+l.y-l.height/2,l.width,l.height),g=new n.Ae(x.x+f.x-f.width/2,x.y+f.y-f.height/2,f.width,f.height);if(!0===function(t,e){var i=[],r="collide";return t instanceof n.E9==1&&(i.push(t),r+="Point"),e instanceof n.E9==1&&(i.push(e),r+="Point"),-1===i.indexOf(t)&&t instanceof n.Ae==1&&(i.push(t),r+="Rectangle"),-1===i.indexOf(e)&&e instanceof n.Ae==1&&(i.push(e),r+="Rectangle"),o[r].apply(null,i)}(d,g)){var p={top:d.y>g.y&&d.y<g.y+g.height?g.height-(d.y-g.y):0,right:d.x+d.width>g.x&&d.x+d.width<g.x+g.width?d.x+d.width-g.x:0,bottom:d.y+d.height>g.y&&d.y+d.height<g.y+g.height?d.y+d.height-g.y:0,left:d.x>g.x&&d.x<g.x+g.width?g.width-(d.x-g.x):0},w=a.get("position").previous,b=h.get("position").previous,v=a.get("hitbox").previous,m=h.get("hitbox").previous,A=new n.Ae(w.x+v.x-v.width/2,w.y+v.y-v.height/2,v.width,v.height),O=new n.Ae(b.x+m.x-m.width/2,b.y+m.y-m.height/2,m.width,m.height),j=!((A.x+A.width-O.x).toFixed(3)<=0||(O.x+O.width-A.x).toFixed(3)<=0),E=!((A.y+A.height-O.y).toFixed(3)<=0||(O.y+O.height-A.y).toFixed(3)<=0),S={top:!0===j&&!1===E&&A.y>d.y,right:!0===E&&!1===j&&A.x<d.x,bottom:!0===j&&!1===E&&A.y<d.y,left:!0===E&&!1===j&&A.x>d.x};if(!1===j&&!1===E){var k=1/0,P="";p.top>0&&(P="top",k=p.top),p.right>0&&p.right<k&&(P="right",k=p.right),p.bottom>0&&p.bottom<k&&(P="bottom",k=p.bottom),p.left>0&&p.left<k&&(P="left",k=p.left),""!==P&&(S[P]=!0)}var R={delta:p,from:S};c[f.type]||(c[f.type]=[]),c[f.type].push([R,h])}}}})),u.forEach((function(t){if(c[t]&&f[t].collide){var i=f[t].collide,n=i.scope,o=i.name;e.scripts.snippets[n][o].call(e,a,c[t])}else if(f[t].dodge){var r=f[t].dodge,h=r.scope,y=r.name;e.scripts.snippets[h][y].call(e,a)}})))}))}},504:(t,e,i)=>{"use strict";function n(t,e){this.x=t,this.y=e}function o(t,e,i,n){this.height=n,this.width=i,this.x=t,this.y=e}i.d(e,{E9:()=>n,Ae:()=>o})}}]);
//# sourceMappingURL=1360_bundle.js.map