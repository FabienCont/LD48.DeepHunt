{"version":3,"sources":["webpack:///./sources/game/scripts/snippets/aJam/handle-hitbox-spike.js"],"names":["entity","collides","get","parts","main","source","this","scripts","snippets","aJam","soundSpike","call","spriteSheets","animation","frame","forces","Object","entries","forEach","i","key","removeInputsPerso","timeoutComponent","createComponentFromModel","name","scope","params","ending","duration","add"],"mappings":"0OAEe,SAAS,EAACA,EAAQC,GAE/B,GAAuC,cADlBD,EAAOE,IAAI,WACfC,MAAMC,KAAKC,OAAwB,CAClDC,KAAKC,QAAQC,SAASC,KAAKC,WAAWC,KAAKL,KAAMN,GAEjD,IAAMY,EAAeZ,EAAOE,IAAI,WAEhCU,EAAaT,MAAMC,KAAKC,OAAS,YAEjCO,EAAaT,MAAMC,KAAKS,UAAUC,MAAQ,EAE1C,IAAMC,EAASf,EAAOE,IAAI,UAC1Bc,OAAOC,QAAQF,EAAOZ,OAAOe,SAAQ,WAAQC,GAAM,IAAZC,E,s0BAAY,SACrC,SAARA,UAAuBL,EAAOZ,MAAMiB,MAG1Cd,KAAKC,QAAQC,SAASC,KAAKY,kBAAkBV,KAAKL,KAAMN,GAExD,IAYMsB,EAAmBC,UAA8BjB,KAZvC,CACdkB,KAAM,UACNC,MAAO,SACPC,OAAQ,CACNC,OAAQ,CACNF,MAAO,OACPD,KAAM,WAERI,SAAU,OAMd5B,EAAO6B,IAAIP","file":"2804_bundle.js","sourcesContent":["import { createComponentFromModel } from 'core/loadEntities';\n\nexport default function (entity, collides) {\n  const spriteSheets = entity.get('sprites');\n  if (spriteSheets.parts.main.source !== 'perso-die') {\n    this.scripts.snippets.aJam.soundSpike.call(this, entity);\n\n    const spriteSheets = entity.get('sprites');\n\n    spriteSheets.parts.main.source = 'perso-die';\n\n    spriteSheets.parts.main.animation.frame = 0;\n\n    const forces = entity.get('forces');\n    Object.entries(forces.parts).forEach(([key], i) => {\n      if (key !== 'fall') delete forces.parts[key];\n    });\n\n    this.scripts.snippets.aJam.removeInputsPerso.call(this, entity);\n\n    const timeout = {\n      name: 'timeout',\n      scope: 'common',\n      params: {\n        ending: {\n          scope: 'aJam',\n          name: 'respawn',\n        },\n        duration: 450,\n      },\n    };\n\n    const timeoutComponent = createComponentFromModel.call(this, timeout);\n\n    entity.add(timeoutComponent);\n  }\n}\n"],"sourceRoot":""}