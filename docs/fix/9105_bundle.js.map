{"version":3,"sources":["webpack:///./sources/game/scripts/systems/common/animate.js"],"names":["animate","entities","Object","entries","forEach","spritesComponent","get","values","parts","sprite","spriteInfo","animation","spritesDef","sprites","source","frames","framerate","length","elapsed","delta","duration","frame"],"mappings":"8LAAA,SAASA,EAAQC,GAAU,WACzBC,OAAOC,QAAQF,GAAUG,SAAQ,YAAoB,I,IAAA,G,EAAA,E,4CAAA,I,owBAC7CC,GAD6C,UACnBC,IAAI,YAEpCJ,OAAOK,OAAOF,EAAiBG,OAAOJ,SAAQ,SAACK,GAC7C,IAAMC,EAAaD,EAAOE,UACpBC,EAAa,EAAKC,QAAQJ,EAAOK,UAC/BC,EAAWH,EAAXG,OACFC,EAAYN,EAAWM,UAAYN,EAAWM,UAAYJ,EAAWI,UAE3E,GAAID,EAAOE,OAAS,EAAG,CACrBP,EAAWQ,SAAW,EAAKC,MAI3B,IAFA,IAAMC,EAAW,IAAOJ,EAEjBN,EAAWQ,SAAWE,GAC3BV,EAAWQ,SAAWE,EACtBV,EAAWW,MAASX,EAAWW,QAAUN,EAAOE,OAAS,EAAK,EAAIP,EAAWW,MAAQ,S","file":"9105_bundle.js","sourcesContent":["function animate(entities) {\n  Object.entries(entities).forEach(([name, entity]) => {\n    const spritesComponent = entity.get('sprites');\n\n    Object.values(spritesComponent.parts).forEach((sprite) => {\n      const spriteInfo = sprite.animation;\n      const spritesDef = this.sprites[sprite.source]();\n      const { frames } = spritesDef;\n      const framerate = spriteInfo.framerate ? spriteInfo.framerate : spritesDef.framerate;\n\n      if (frames.length > 1) {\n        spriteInfo.elapsed += this.delta;\n\n        const duration = 1000 / framerate;\n\n        while (spriteInfo.elapsed >= duration) {\n          spriteInfo.elapsed -= duration;\n          spriteInfo.frame = (spriteInfo.frame === frames.length - 1) ? 0 : spriteInfo.frame + 1;\n        }\n      }\n    });\n  });\n}\n\nexport { animate };\n"],"sourceRoot":""}