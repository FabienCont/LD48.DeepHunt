{"version":3,"sources":["webpack:///./sources/game/scripts/systems/editor/debugInputsScene.js"],"names":["removeClicked","this","$variables","$debug","isClicked","debugInputsScene","debugVariables","$controllers","inputs","forEach","action","state","x","y","push","splice","indexOf","scripts","snippets","editor","changeHoverLevel","copyEntities","multipleSelection","entitySelection","pasteEntities","deleteEntities","zoom","dezoom","multipleSelect","select","camera","$cameras","debug","cursorPos","screen","position","scale","width","height","selectedElements","length","focusElement","commands","multipleEntityMove","entityDrag","cameraDrag","hover","call","cameraMoveUp","cameraMoveLeft","cameraMoveDown","cameraMoveRight"],"mappings":"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","file":"7425_bundle.js","sourcesContent":["function removeClicked() {\n  this.$variables.$debug.isClicked = false;\n}\n\nfunction debugInputsScene() {\n  const debugVariables = this.$variables.$debug;\n  this.$controllers.inputs.forEach(({\n    action, state, x, y,\n  }) => {\n    const inputsCombine = state ? `${action}_${state}` : action;\n    switch (inputsCombine) {\n      case 'KEY_CTRL_DOWN':\n        debugVariables.inputs.push('KEY_CTRL');\n        break;\n      case 'KEY_CTRL_UP':\n        debugVariables.inputs.splice(debugVariables.inputs.indexOf('KEY_CTRL'));\n        break;\n      case 'KEY_SHIFT_DOWN':\n        this.scripts.snippets.editor.changeHoverLevel();\n        break;\n      case 'KEY_C_DOWN':\n        if (debugVariables.inputs.indexOf('KEY_CTRL') !== -1) {\n          this.scripts.snippets.editor.copyEntities();\n        }\n        break;\n      case 'KEY_E_DOWN':\n        if (debugVariables.inputs.indexOf('KEY_CTRL') !== -1) {\n          debugVariables.multipleSelection = true;\n          debugVariables.entitySelection = true;\n        } else {\n          debugVariables.multipleSelection = false;\n          debugVariables.entitySelection = true;\n        }\n        break;\n      case 'KEY_F_DOWN':\n        debugVariables.multipleSelection = false;\n        debugVariables.entitySelection = false;\n        break;\n      case 'KEY_V_DOWN':\n        if (debugVariables.inputs.indexOf('KEY_CTRL') !== -1) {\n          this.scripts.snippets.editor.pasteEntities();\n        }\n        break;\n      case 'KEY_DEL_DOWN':\n        this.scripts.snippets.editor.deleteEntities();\n        break;\n      case 'SCROLL_UP':\n        this.scripts.snippets.editor.zoom({ x, y });\n        break;\n      case 'SCROLL_DOWN':\n        this.scripts.snippets.editor.dezoom({ x, y });\n        break;\n      case 'CLICK_LEFT_DOWN':\n        debugVariables.isClicked = true;\n        if (debugVariables.inputs.indexOf('KEY_CTRL') === -1 && debugVariables.multipleSelection === true) {\n          this.scripts.snippets.editor.multipleSelect();\n        } else if (debugVariables.multipleSelection === false && debugVariables.entitySelection === true) {\n          this.scripts.snippets.editor.select();\n        }\n        break;\n      case 'MOVE':\n        const camera = this.$cameras.debug;\n        const { cursorPos } = this.$variables.$debug;\n        cursorPos.x = (x - camera.screen.x()\n      + camera.position.x() * camera.screen.scale()\n      - camera.screen.width() / 2) / camera.screen.scale();\n\n        cursorPos.y = (y - camera.screen.y()\n      + camera.position.y() * camera.screen.scale()\n      - camera.screen.height() / 2) / camera.screen.scale();\n        if (debugVariables.isClicked) {\n          if (!debugVariables.entitySelection) {\n            debugVariables.commands.cameraDrag = cursorPos;\n          } else if (debugVariables.selectedElements.length > 0) {\n            if (debugVariables.focusElement) {\n              // this.scripts.snippets.editor.focusEntity();\n            } else if (debugVariables.entitySelection === true && debugVariables.multipleSelection === true) {\n              debugVariables.commands.multipleEntityMove = cursorPos;\n            } else if (debugVariables.entitySelection === true && debugVariables.multipleSelection === false) {\n              debugVariables.commands.entityDrag = cursorPos;\n            }\n          }\n        } else {\n          this.scripts.snippets.editor.hover(cursorPos);\n        }\n        break;\n      case 'MOVE_LEAVE':\n      case 'CLICK_LEFT_UP':\n        debugVariables.commands = {};\n        removeClicked.call(this);\n        break;\n      case 'KEY_UP_UP':\n        delete debugVariables.commands.cameraMoveUp;\n        removeClicked.call(this);\n        break;\n      case 'KEY_LEFT_UP':\n        delete debugVariables.commands.cameraMoveLeft;\n        removeClicked.call(this);\n        break;\n      case 'KEY_DOWN_UP':\n        delete debugVariables.commands.cameraMoveDown;\n        removeClicked.call(this);\n        break;\n      case 'KEY_RIGHT_UP':\n        delete debugVariables.commands.cameraMoveRight;\n        removeClicked.call(this);\n        break;\n      case 'KEY_DOWN_DOWN':\n        debugVariables.commands.cameraMoveDown = null;\n        break;\n      case 'KEY_LEFT_DOWN':\n        debugVariables.commands.cameraMoveLeft = null;\n        break;\n      case 'KEY_UP_DOWN':\n        debugVariables.commands.cameraMoveUp = null;\n        break;\n      case 'KEY_RIGHT_DOWN':\n        debugVariables.commands.cameraMoveRight = null;\n        break;\n      default:\n    }\n  });\n}\n\nexport { debugInputsScene };\n"],"sourceRoot":""}