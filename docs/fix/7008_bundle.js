(self.webpackChunk=self.webpackChunk||[]).push([[7008],{7008:(t,e,i)=>{"use strict";i.r(e),i.d(e,{generateDecor:()=>c});var o=i(2175);function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],o=!0,r=!1,n=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);o=!0);}catch(t){r=!0,n=t}finally{try{o||null==s.return||s.return()}finally{if(r)throw n}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function c(t){var e=this,i=Object.values(this.$world.entities).find((function(t){return"character"===t.name})).get("position"),r=i.x+128,n=i.x-32,a=["top","bottom","water","pipeTop","pipeBottom","cloud"];this.$variables.started&&a.push("checkpoint");for(var p={},c=0;c<a.length;c+=1){var u=a[c];p[u]={model:this.models.entities.demo[u],width:64,distanceBetween:64,maxPosition:n,maxId:"",entities:[],defaultY:0}}if(p.cloud.width=160,p.cloud.distanceBetween=160,p.pipeTop.width=8,p.pipeBottom.width=8,p.bottom.width=32,p.top.width=32,Object.entries(t).filter((function(t){var i=s(t,2),o=i[0],r=i[1],a=r.name,c=r.get("position").x+p[a].width<n;return c?(p[a].defaultY=r.get("position").y,e.$world.remove(r)):(p[a].entities.push(r),p[a].maxPosition<r.get("position").x&&(p[a].maxPosition=r.get("position").x,p[a].maxId=o,p[a].defaultY=r.get("position").y)),!c})),this.$variables.started&&0===p.checkpoint.entities.length){var l=p.pipeTop.maxPosition;p.checkpoint.maxPosition=l}Object.entries(p).forEach((function(t){for(var i=s(t,2),n=i[0],a=i[1];r>a.maxPosition;){var c=o.AJ.call(e,[a.model()])[0];if(c.get("position").y=a.defaultY,e.$variables.started&&("pipeTop"===n||"pipeBottom"===n)){var u="pipeTop"===n?"pipeBottom":"pipeTop",l=p[u],f=40*Math.random()+0;c=d(c,f,40,n);var h=o.AJ.call(e,[l.model()])[0];(h=d(h,f,40,u)).get("position").y=l.defaultY,h.get("position").x=l.maxPosition+l.distanceBetween,e.$world.add(h),l.maxPosition+=a.distanceBetween,l.maxId=h.id}c.get("position").x=a.maxPosition+a.distanceBetween,e.$world.add(c),a.maxPosition=c.get("position").x,a.maxId=c.id}}))}var d=function(t,e,i,o){var r=[],a={size:{width:16,height:12}},s={animation:{frame:0,elapsed:0,framerate:8},opacity:1},p="pipe_top",c=1,d=e;if("pipeBottom"===o){p="pipe_bottom",c=-1,d=i-e;var u=12*(1-e/i);u<=2?r[0]=n(n({source:"pipe_shadow_top",destination:{x:0,y:6+u,z:0}},a),s):(r[0]=n(n({source:"pipe_shadow_bottom",destination:{x:0,y:6+u,z:0}},a),s),r[1]=n(n({source:"pipe_shadow_top",destination:{x:0,y:18+u,z:0}},a),s))}var l=t.get("hitbox");l.height=d,l.y=d/2*c;var f=0,h=-5*c;d>9&&(f=d,r[2]=n({source:"pipe_mid",destination:{x:0,y:h+f/2*c,z:0},size:{width:16,height:f}},s)),r[3]=n(n({source:p,destination:{x:0,y:h+d*c,z:10}},{size:{width:16,height:16}}),s);var m=t.get("sprites");return m||(m=t.get("images")),m.parts=r,t}}}]);
//# sourceMappingURL=7008_bundle.js.map