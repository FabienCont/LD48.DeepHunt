{"version":3,"sources":["webpack:///./sources/game/scripts/snippets/editor/hover.js"],"names":["hover","x","y","$camera","this","$cameras","debug","debugVariables","$variables","$debug","entitiesHover","Object","entries","$world","entities","forEach","i","value","pos","get","distance","stepGrid","Math","abs","push","entitySelection","oldPos","hoverElements","splice","hoverLevel","length"],"mappings":"4dAKe,SAASA,EAAT,GAAyB,I,EAARC,EAAQ,EAARA,EAAGC,EAAK,EAALA,EAC3BC,EAAUC,KAAKC,SAASC,MACxBC,EAAiBH,KAAKI,WAAWC,OACvC,GAAIN,EAAS,CACX,IAAMO,EAAgB,GACtBC,OAAOC,QAAQR,KAAKS,OAAOC,UAAUC,SAAQ,WAAeC,GAAM,M,2iBAAA,MAAdC,GAAc,WAC1DC,EAAMD,EAAME,IAAI,YAEtB,GAAID,EAAK,CACP,IAAME,EAAWb,EAAec,SAC5BC,KAAKC,IAAIL,EAAIjB,EAAIA,GAAKmB,GAAYE,KAAKC,IAAIL,EAAIhB,EAAIA,GAAKkB,GAC1DV,EAAcc,KAAKP,QAKc,IAAnCV,EAAekB,iBACjBlB,EAAemB,OAAS,CAAEzB,IAAGC,KAC7BK,EAAeoB,cAAcC,OAAO,KAEpCrB,EAAeoB,cAAcC,OAAO,GACpCrB,EAAeoB,cAAf,U,+CAAmCpB,EAAeoB,gB,kRAAkBjB,GAChEH,EAAeoB,cAAcpB,EAAesB,YAC9CtB,EAAemB,OAASnB,EAAeoB,cAAcpB,EAAesB,YAAYV,IAAI,YAC3EZ,EAAesB,WAAatB,EAAeoB,cAAcG,OAAS,GAAKvB,EAAeoB,cAAcG,OAAS,GACtHvB,EAAesB,WAAa,EAC5BtB,EAAemB,OAASnB,EAAeoB,cAAcpB,EAAesB,YAAYV,IAAI,aAEpFZ,EAAemB,OAAS,CAAEzB,IAAGC,O","file":"7666_bundle.js","sourcesContent":["const dezoomCamera = function (camera) {\n  const scale = camera.screen.scale() + 0.2;\n  camera.screen.scale = () => scale;\n};\n\nexport default function hover({ x, y }) {\n  const $camera = this.$cameras.debug;\n  const debugVariables = this.$variables.$debug;\n  if ($camera) {\n    const entitiesHover = [];\n    Object.entries(this.$world.entities).forEach(([key, value], i) => {\n      const pos = value.get('position');\n\n      if (pos) {\n        const distance = debugVariables.stepGrid;\n        if (Math.abs(pos.x - x) < distance && Math.abs(pos.y - y) < distance) {\n          entitiesHover.push(value);\n        }\n      }\n    });\n\n    if (debugVariables.entitySelection === false) {\n      debugVariables.oldPos = { x, y };\n      debugVariables.hoverElements.splice(0);\n    } else {\n      debugVariables.hoverElements.splice(0);\n      debugVariables.hoverElements = [...debugVariables.hoverElements, ...entitiesHover];\n      if (debugVariables.hoverElements[debugVariables.hoverLevel]) {\n        debugVariables.oldPos = debugVariables.hoverElements[debugVariables.hoverLevel].get('position');\n      } else if (debugVariables.hoverLevel > debugVariables.hoverElements.length - 1 && debugVariables.hoverElements.length > 0) {\n        debugVariables.hoverLevel = 0;\n        debugVariables.oldPos = debugVariables.hoverElements[debugVariables.hoverLevel].get('position');\n      } else {\n        debugVariables.oldPos = { x, y };\n      }\n    }\n  }\n}\n"],"sourceRoot":""}