{"version":3,"sources":["webpack:///./sources/game/scripts/snippets/aJam/handle-hitbox-spike.js"],"names":["entity","collides","get","parts","main","source","this","scripts","snippets","call","spriteSheets","animation","frame","forces","Object","entries","forEach","i","key","timeoutComponent","createComponentFromModel","add"],"mappings":"0OAEe,SAAS,EAACA,EAAQC,GAG/B,GAAoC,cADfD,EAAOE,IAAI,WAChBC,MAAMC,KAAKC,OAAqB,CAG1CC,KAAKC,QAAQC,SAAb,gBAA4CC,KAAKH,KAAMN,GAEzD,IAAMU,EAAeV,EAAOE,IAAI,WAEhCQ,EAAaP,MAAMC,KAAKC,OAAO,YAE/BK,EAAaP,MAAMC,KAAKO,UAAUC,MAAM,EAExC,IAAMC,EAASb,EAAOE,IAAI,UAC1BY,OAAOC,QAAQF,EAAOV,OAAOa,SAAQ,WAAQC,GAAM,IAAZC,E,s0BAAY,SACrC,SAARA,UAAsBL,EAAOV,MAAMe,MAG3CZ,KAAKC,QAAQC,SAAb,uBAAmDC,KAAKH,KAAMN,GAE9D,IAaMmB,EAAmBC,UAA8Bd,KAbzC,CACV,KAAQ,UACR,MAAS,SACT,OAAU,CACN,OAAU,CACN,MAAS,OACT,KAAQ,WAEZ,SAAY,OAOpBN,EAAOqB,IAAIF","file":"2804_bundle.js","sourcesContent":["import { createComponentFromModel } from 'core/loadEntities';\n\nexport default function (entity, collides) {\n\n  const spriteSheets = entity.get('sprites');\n  if(spriteSheets.parts.main.source!=='perso-die'){\n\n\n        this.scripts.snippets['aJam']['soundSpike'].call(this, entity);\n\n      const spriteSheets = entity.get('sprites');\n\n      spriteSheets.parts.main.source='perso-die'\n\n      spriteSheets.parts.main.animation.frame=0;\n\n      const forces = entity.get('forces');\n      Object.entries(forces.parts).forEach(([key], i) => {\n        if( key !== 'fall')delete forces.parts[key]\n      });\n\n    this.scripts.snippets['aJam']['removeInputsPerso'].call(this, entity);\n\n    let timeout = {\n        \"name\": \"timeout\",\n        \"scope\": \"common\",\n        \"params\": {\n            \"ending\": {\n                \"scope\": \"aJam\",\n                \"name\": \"respawn\"\n            },\n            \"duration\": 450\n        }\n    }\n\n\n    const timeoutComponent = createComponentFromModel.call(this, timeout);\n\n    entity.add(timeoutComponent)\n\n  }\n}\n"],"sourceRoot":""}